---
import "./home.css"
import {Image} from "astro:assets";

// components
import Layout from "../layouts/Layout.astro";
import Hero from "../components/hero/Hero.astro";
import TitleText from "../components/title_text/TitleText.astro";
import Overview from "../components/overview/Overview.astro";
import AboutUs from "../components/about_us/AboutUs.astro";
import Footer from "../components/footer/Footer.astro";

// Images
import collaboration_img from "../images/collaboration_img.jpg";
import education_img from "../images/education_img.jpg";
import business_img from "../images/business_img.jpg";



const points = [
  {
    title: "Digital Marketing",
    text: "Our diverse skill set and competency pool have allowed us to effectively establish strategic alliances with a range of businesses in various industries",
    img: collaboration_img,
    layout: "normal",
  },
  {
    title: "Education Consultancy",
    text: "We help to simplify the admissions process and increase our students' chances of acceptance into their desired institutions in the UK",
    img: education_img,
    layout: "reverse",
  },
  {
    title: "Business Development",
    text: "From small businesses to large global conglomerates, we can assist you in building long-term value for your enterprise through partnerships, markets, and customers.",
    img: business_img,
    layout: "normal",
  },
];


---

<Layout>
  <Hero />
  <div class="empty_space"></div>

  <section class="what_we_do">
    <div class="px">
      <TitleText title="What we do" />
      {points.map((point) => (
        <div class={`${point.layout === "normal" ? "flex" : "flex flex_reverse"}`}>
          <div class="flex_child">
            <h4>
            {point.title}
            </h4>
            <p>
              {point.text}
            </p>
          </div>
          <div class="flex_child">
            <Image src={point.img} alt="" width={542} height={350}>
          </div>
        </div>
      ))}
    </div>
  </section>

  <Overview />
  <AboutUs />
  
  <div class="empty_space"></div>
  <Footer />
</Layout>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const containers = document.querySelectorAll('.services .flex .flex_child .flex_texts');
      const images = document.querySelectorAll('.services .flex .flex_child .flex_image img');

      containers.forEach((container, idx) => {
        const image = images[idx] as HTMLImageElement;
        const containerHeight = container.clientHeight;
        image.style.height = `${containerHeight}px`;
      });
    });
  </script>